(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{2174:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return p}});var r=n(29),s=n(9499),a=n(7794),i=n.n(a),o=n(7294),c=n(1163),u=n(5862),l=n(5893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=!0;t.default=function(e){var t,n=e.destname,a=(0,c.useRouter)(),p=u.ZP.filter(function(e){return e.name===n})[0];if(!p)return(0,l.jsx)("div",{className:"text-4xl font-medium",children:"Observability Vendor Not Found"});var m=p.supportedSignals.reduce(function(e,t){return Object.assign(e,(0,s.Z)({},t,!0)),e},{}),f=(0,o.useState)(m),h=f[0],b=f[1],g=p.getFields(h),x=(0,o.useState)(""),y=x[0],j=x[1],v=(t=(0,r.Z)(i().mark(function e(t){var n,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.target),r={},n.forEach(function(e,t){r[t]=e.toString()}),s=JSON.stringify(r),r.elasticsearch_url&&(!1===/^(http[s]?:\/\/)([a-zA-Z\d\.]{2,})\.([a-zA-Z]{2,})(:9200)\S*/gm.test(r.elasticsearch_url)?j("Your URL must contain the port number 9200"):j("")),r.otlp_url&&(!1===/^(http[s]?:\/\/)([a-zA-Z\d\.]{2,})\.([a-zA-Z]{2,})(:4317)\S*/gm.test(r.otlp_url)?j("Your URL must contain the port number 4317"):j("")),""!==y){e.next=12;break}return e.next=10,fetch("/api/dests",{body:s,headers:{"Content-Type":"application/json"},method:"POST"});case 10:e.sent.ok&&a.push("/");case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"text-4xl p-8 capitalize text-gray-900",children:["Add new ",p.displayName," destination"]}),(0,l.jsx)("div",{className:"pl-14 max-w-md",children:(0,l.jsxs)("form",{className:"grid grid-cols-1 gap-6",onSubmit:v,name:"newdest",children:[p.supportedSignals&&p.supportedSignals.length>0&&(0,l.jsx)("div",{className:"flex flex-row space-x-10 items-center",children:p.supportedSignals.map(function(e){return(0,l.jsxs)("div",{className:"space-x-2 items-center",hidden:Object.keys(h).length<2,children:[(0,l.jsx)("input",{type:"checkbox",name:e,id:e,checked:h[e],onChange:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h);t[e]=!t[e],b(t)}}),(0,l.jsx)("label",{htmlFor:e,children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})]},e)})}),(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700",children:"Destination Name"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",className:" mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 ",placeholder:"",required:!0})]}),g&&g.map(function(e){return(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700",children:e.displayName}),(0,l.jsx)("input",{id:e.id,name:e.name,type:e.type,className:" mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 ",placeholder:"",required:!0}),("elasticsearch_url"===e.name||"otlp_url"===e.name||"site"===e.name)&&(0,l.jsx)("span",{className:"mt-1 text-red-500 text-sm",children:y})]},e.id)}),(0,l.jsx)("input",{name:"type",id:"type",hidden:!0,value:n,readOnly:!0}),(0,l.jsx)("button",{type:"submit",className:"mt-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Create Destination"})]})})]})}},3672:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dest/new/[destname]",function(){return n(2174)}])},29:function(e,t,n){"use strict";function r(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(e){n(e);return}o.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(s,a){var i=e.apply(t,n);function o(e){r(i,s,a,o,c,"next",e)}function c(e){r(i,s,a,o,c,"throw",e)}o(void 0)})}}n.d(t,{Z:function(){return s}})}},function(e){e.O(0,[63,862,774,888,179],function(){return e(e.s=3672)}),_N_E=e.O()}]);